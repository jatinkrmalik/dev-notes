<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: 'en' }}" data-theme="dark">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <title>{% if page.title %}{{ page.title | escape }} - {{ site.title | escape }}{% else %}{{ site.title | escape }}{% endif %}</title>
  <meta name="description" content="{{ page.excerpt | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">
  <link rel="canonical" href="{{ page.url | replace:'index.html','' | absolute_url }}">
  <link rel="alternate" type="application/rss+xml" title="{{ site.title | escape }}" href="{{ '/feed.xml' | relative_url }}">
  
  <!-- Favicon Links -->
  <link rel="apple-touch-icon" sizes="180x180" href="{{ '/assets/images/apple-touch-icon.png' | relative_url }}">
  <link rel="icon" type="image/png" sizes="32x32" href="{{ '/assets/images/favicon-32x32.png' | relative_url }}">
  <link rel="icon" type="image/png" sizes="16x16" href="{{ '/assets/images/favicon-16x16.png' | relative_url }}">
  <link rel="manifest" href="{{ '/assets/site.webmanifest' | relative_url }}">
  <link rel="mask-icon" href="{{ '/assets/favicon.svg' | relative_url }}" color="#00ff00">
  <meta name="msapplication-TileColor" content="#000000">
  <meta name="msapplication-config" content="{{ '/assets/browserconfig.xml' | relative_url }}">
  <meta name="theme-color" content="#000000">
  
  <!-- Legacy Favicon -->
  <link rel="shortcut icon" href="{{ '/favicon.ico' | relative_url }}">
  
  <!-- Immediate theme detection to prevent FOUC -->
  <script>
    (function() {
      const savedTheme = localStorage.getItem('theme') || 'dark';
      document.documentElement.setAttribute('data-theme', savedTheme);
    })();
  </script>
  
  {% seo %}
</head>

<body class="crt-body{% if page.url == '/' %} home{% endif %}">
  <div class="power-on-effect"></div>
  <div class="scanlines"></div>
  
  <div class="crt-screen">
    <div class="crt-content">
      <div class="main-container">
        <header class="site-header">
          <h1 class="site-title">
            <a href="{{ '/' | relative_url }}" class="site-title-link">jatin's dev notes</a>
          </h1>
        </header>

        <nav class="directory-listing">
          <ul class="nav-list">
            <li class="nav-item">
              <a href="{{ '/' | relative_url }}" class="nav-link {% if page.url == '/' %}active{% endif %}">
                <span class="file-type">[DIR]</span>
                <span class="file-name">home</span>
              </a>
            </li>
            <li class="nav-item">
              <a href="{{ '/archive/' | relative_url }}" class="nav-link {% if page.url contains '/archive' %}active{% endif %}">
                <span class="file-type">[LOG]</span>
                <span class="file-name">archive</span>
              </a>
            </li>
            <li class="nav-item">
              <a href="{{ '/about/' | relative_url }}" class="nav-link {% if page.url contains '/about' %}active{% endif %}">
                <span class="file-type">[MD]</span>
                <span class="file-name">about</span>
              </a>
            </li>
          </ul>
        </nav>

        <main class="main-content" role="main">
          {{ content }}
        </main>

        <footer class="site-footer">
          <div class="footer-links">
            <a href="https://j47.in" target="_blank">Portfolio</a>
            <a href="https://jatinkrmalik.com" target="_blank">Personal Site</a>
            <a href="https://linkedin.com/in/jatinmalik" target="_blank">LinkedIn</a>
            <a href="https://github.com/jatinmalik" target="_blank">GitHub</a>
          </div>
          <p>&copy; {{ site.time | date: '%Y' }} {{ site.author | escape }}</p>
        </footer>
      </div>
    </div>
  </div>

  {%- include theme-toggle.html -%}
  <script src="{{ '/assets/js/main.js' | relative_url }}"></script>
</body>

</html> 